---
layout: post
title: firewalld
tags:
  - firewalld
  - CentOS7
categories:
  - [linux,firewalld]
abbrlink: 6ae2bd65
password:
date: 2024-03-21
---

## firewall常用命令

```bash
查看使用的端口
netstat -untlp
查看防火墙状态
systemctl status firewalld
#开启防火墙
systemctl start firewalld
#开机启动
systemctl enable firewalld

永久打开端口
firewall-cmd --permanent --add-port=6379/tcp
// 添加复杂规则,只允许指定IP段访问6379端口
firewall-cmd --permanent --add-rich-rule='rule family="ipv4" source address="172.16.10.0/24" port protocol="tcp" port="6379" accept'
// 移除复杂规则,只允许指定IP段访问6379端口
firewall-cmd --permanent --remove-rich-rule='rule family="ipv4" source address="172.16.2.0/24" port protocol="tcp" port="6379" accept'

重载
firewall-cmd --reload
#关闭端口9001
firewall-cmd --zone=public --remove-port=6379/tcp --permanent
# 查看防火墙，添加的端口也可以看到
firewall-cmd --list-all
测试
telnet 172.16.2.103  6379


firewall-cmd --permanent --add-rich-rule='rule family="ipv4" source address="172.16.2.0/24" port protocol="tcp" port="19200" accept'
```

